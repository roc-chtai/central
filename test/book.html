<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>平面書櫃輪播</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { background: #f3f5fa; }
    .slider-outer {
      max-width: 800px;
      margin: 48px auto 0 auto;
      overflow: visible;
      text-align: center;
    }
    .slider-track {
      display: flex;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      gap: 28px;
      padding: 20px 0;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    .slider-track::-webkit-scrollbar { display: none; }
    .book-card {
      flex: 0 0 130px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.08);
      text-align: center;
      transition: transform .28s, box-shadow .28s;
      scroll-snap-align: center;
      position: relative;
      padding: 12px 6px 12px 6px;
      cursor: pointer;
    }
    .book-card.selected {
      transform: scale(1.14);
      box-shadow: 0 6px 32px rgba(0,0,0,0.18);
      z-index: 2;
    }
    .book-img {
      width: 100px;
      height: 140px;
      object-fit: cover;
      border-radius: 8px;
      margin-bottom: 8px;
      background: #eee;
    }
    .book-title {
      font-size: 1em;
      font-weight: bold;
      margin: 0 0 8px 0;
    }
    .arrow-btn {
      background: #fff;
      border: none;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      font-size: 1.5em;
      box-shadow: 0 2px 8px rgba(0,0,0,0.10);
      margin: 0 12px;
      cursor: pointer;
      vertical-align: middle;
      transition: box-shadow .2s;
    }
    .arrow-btn:active {
      box-shadow: 0 1px 4px rgba(0,0,0,0.18);
    }
    .book-desc-area {
      margin-top: 22px;
      min-height: 40px;
      color: #666;
      font-size: 1.05em;
      max-width: 430px;
      margin-left: auto;
      margin-right: auto;
      transition: opacity .25s;
    }
  </style>
</head>
<body>
  <h2>📚 平面書籍區（可滑動）</h2>
  <div class="slider-outer">
    <button class="arrow-btn" id="leftBtn">&#8592;</button>
    <div class="slider-track" id="sliderTrack">
      <div class="book-card selected" data-desc="一封信，解開人生難題的雜貨店，溫暖人心的故事。">
        <img class="book-img" src="https://images.unsplash.com/photo-1512820790803-83ca734da794?w=400" alt="書1">
        <div class="book-title">解憂雜貨店</div>
      </div>
      <div class="book-card" data-desc="經典童話，帶你看見大人世界的純真與愛。">
        <img class="book-img" src="https://images.unsplash.com/photo-1524985069026-dd778a71c7b4?w=400" alt="書2">
        <div class="book-title">小王子</div>
      </div>
      <div class="book-card" data-desc="直視社會陰影，令人心痛卻無法移開目光的小說。">
        <img class="book-img" src="https://images.unsplash.com/photo-1465101046530-73398c7f28ca?w=400" alt="書3">
        <div class="book-title">房思琪的初戀樂園</div>
      </div>
      <div class="book-card" data-desc="獻身愛情的天才數學家與偵探的心智對決。">
        <img class="book-img" src="https://images.unsplash.com/photo-1507842217343-583bb7270b66?w=400" alt="書4">
        <div class="book-title">嫌疑犯X的獻身</div>
      </div>
      <div class="book-card" data-desc="短篇小說集，村上式奇妙與溫柔。">
        <img class="book-img" src="https://images.unsplash.com/photo-1516979187457-637abb4f9353?w=400" alt="書5">
        <div class="book-title">解體諸因</div>
      </div>
    </div>
    <button class="arrow-btn" id="rightBtn">&#8594;</button>
    <div class="book-desc-area" id="descArea">
      一封信，解開人生難題的雜貨店，溫暖人心的故事。
    </div>
  </div>
  <script>
    // 切換選中書（顯示簡介）
    const cards = document.querySelectorAll('.book-card');
    const descArea = document.getElementById('descArea');
    const sliderTrack = document.getElementById('sliderTrack');
    let selectedIdx = 0;
    function selectBook(idx, smooth=true) {
      cards.forEach(c => c.classList.remove('selected'));
      cards[idx].classList.add('selected');
      descArea.textContent = cards[idx].dataset.desc;
      selectedIdx = idx;
      // 捲動到選中書
      cards[idx].scrollIntoView({behavior: smooth ? "smooth" : "auto", inline: "center", block: "nearest"});
    }
    cards.forEach((card, idx) => {
      card.addEventListener('click', () => selectBook(idx));
    });
    // 左右按鈕
    document.getElementById('leftBtn').onclick = () => {
      let next = (selectedIdx - 1 + cards.length) % cards.length;
      selectBook(next);
    };
    document.getElementById('rightBtn').onclick = () => {
      let next = (selectedIdx + 1) % cards.length;
      selectBook(next);
    };
    // 鍵盤左右鍵支持
    document.addEventListener('keydown', e => {
      if(document.activeElement.tagName === "INPUT" || document.activeElement.tagName === "TEXTAREA") return;
      if(e.key === 'ArrowLeft') document.getElementById('leftBtn').click();
      if(e.key === 'ArrowRight') document.getElementById('rightBtn').click();
    });
    // 頁面resize時自動居中
    window.addEventListener('resize', () => selectBook(selectedIdx, false));
  </script>
</body>
</html>
